(self.webpackChunkelementor_pro_notes=self.webpackChunkelementor_pro_notes||[]).push([[969],{2522:(n,t,e)=>{"use strict";e.r(t),e.d(t,{default:()=>yl});var r,o=e(3804),a=e.n(o),i=e(4204),l=e(2965),s=e(5409),c=e.n(s),p=(e(6900),e(9449)),u=e(6875);const m=u.ZP.button(r||(r=(0,p.Z)(['\n\tall: revert;\n\n\t--color: #000;\n\t--padding: 0;\n\t--background: transparent;\n\t--font-weight: 500;\n\t--font-size: 16px;\n\t--font-family: Roboto, sans-serif;\n\t--text-transform: none;\n\t--letter-spacing: 0;\n\t--font-style: normal;\n\t--text-decoration: none;\n\t--line-height: normal;\n\t--word-spacing: normal;\n\t--text-shadow: none;\n\t--box-shadow: none;\n\t--border: none;\n\t--border-radius: 0;\n\n\t// Override themes selectors.\n\t&,\n\t&&,\n\t&[type="button"],\n\t&[type="submit"],\n\t&[type="reset"],\n\t&:hover,\n\t&:focus,\n\t&:active,\n\t&:not( :hover ):not( :active ):not( .has-background ),\n\t&:not( :hover ):not( :active ):not( .has-text-color ) {\n\t\tfont-family: var( --font-family ) !important;\n\t\tfont-size: var( --font-size ) !important;\n\t\tfont-weight: var( --font-weight ) !important;\n\t\ttext-transform: var( --text-transform ) !important;\n\t\tletter-spacing: var( --letter-spacing ) !important;\n\t\tfont-style: normal !important;\n\t\ttext-decoration: none !important;\n\t\tline-height: normal !important;\n\t\tword-spacing: normal !important;\n\t\tcolor: var( --color ) !important;\n\t\tbackground: var( --background ) !important;\n\t\tborder: var( --border ) !important;\n\t\ttext-shadow: var( --text-shadow ) !important;\n\t\tbox-shadow: var( --box-shadow ) !important;\n\t\tborder-radius: var( --border-radius ) !important;\n\t\tpadding: var( --padding ) !important;\n\t\toutline: none !important;\n\t\twidth: var( --width, auto ) !important;\n\t\theight: var( --height, auto ) !important;\n\t\tdisplay: var( --display, inline-block ) !important;\n\t\tmin-height: revert !important;\n\t}\n\n\t&:before,\n\t&:after {\n\t\tdisplay: none !important;\n\t}\n'])));var d,f,v,g=e(216),h={contained:{background:"--color-editor-info",border:"--color-editor-info",text:"--color-white",backgroundHover:"--color-editor-info-dark"},outlined:{background:"--color-ghost",border:"--color-gray-400",text:"--color-gray-600",backgroundHover:"--color-darken"},transparent:{background:"--color-ghost",border:"--color-ghost",text:"--color-default"}},y={md:{padding:"--padding-md",fontSize:"--font-size-md"}},b=(0,u.ZP)(m)(d||(d=(0,p.Z)(["\n\t--color-editor-info: #58d0f5;\n\t--color-editor-info-dark: #10bcf2;\n\t--color-default: inherit;\n\t--color-ghost: transparent;\n\t--color-white: #fff;\n\t--color-gray-400: #c2cbd2;\n\t--color-gray-600: #6d7882;\n\t--color-darken: rgba( 0, 0, 0, .05 );\n\n\t--font-size-md: 14px;\n\t--padding-md: 9px 8px;\n\n\t--padding: var( "," );\n\t--color: var( "," );\n\t--background: var( "," );\n\t--border-color: var( "," );\n\t--border: 1px solid var( --border-color );\n\t--cursor: pointer;\n\t--font-weight: 500;\n\t--font-family: Roboto, sans-serif;\n\t--font-size: var( "," );\n\t--border-radius: 3px;\n\n\tfont-style: normal;\n\ttext-align: center;\n\tline-height: 1;\n\tcursor: var( --cursor ) !important;\n\ttransition: .3s all;\n\n\t","\n\n\t","\n\n\t&:hover, &:focus {\n\t\t--background: var(\n\t\t\t","\n\t\t);\n\t}\n"])),(function(n){var t=n.size;return y[t].padding}),(function(n){var t=n.variant;return h[t].text}),(function(n){var t=n.variant;return h[t].background}),(function(n){var t=n.variant;return h[t].border}),(function(n){var t=n.size;return y[t].fontSize}),(function(n){return n.disabled&&(0,u.iv)(f||(f=(0,p.Z)(["\n\t\t\topacity: .5;\n\t\t\tpointer-events: none;\n\t\t\t--cursor: not-allowed;\n\t\t"])))}),(function(n){return"transparent"===n.variant&&(0,u.iv)(v||(v=(0,p.Z)(["\n\t\t\t--padding: 0;\n\t\t"])))}),(function(n){var t=n.variant;return h[t].backgroundHover||h[t].background}));b.propTypes={variant:g.oneOf(["contained","outlined","transparent"]).isRequired,size:g.oneOf(["md"]).isRequired,disabled:g.bool},b.defaultProps={variant:"contained",size:"md"};const Z=b;var x,w,E,k,C,R=e(216),T={xs:20,sm:25,md:40,lg:80,xl:160},P={active:{background:"--color-editor-info",text:"--color-white"},solid:{background:"--color-editor-info",text:"--color-white"},ghost:{background:"--color-ghost",text:"--color-gray"}},_=(0,u.F4)(x||(x=(0,p.Z)(["\n\t0% {\n\t\topacity: 0;\n\t\ttransform: scale( .8 );\n\t\ttransform-origin: 50% 100%;\n\t}\n\n\t50% {\n\t\topacity: 1;\n\t\ttransform: scale( 1.2 );\n\t\ttransform-origin: 50% 100%;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t\ttransform: scale( 1 );\n\t\ttransform-origin: 50% 100%;\n\t}\n"]))),z=u.ZP.span.withConfig({shouldForwardProp:function(n){return"children"===n}})(w||(w=(0,p.Z)(["\n\tall: revert;\n\n\t--color-editor-info: #58d0f5;\n\t--color-ghost: #fff;\n\t--color-white: #fff;\n\t--color-gray: #a4afb6;\n\t--color-shadow: rgba( 0, 0, 0, 0.2 );\n\t--size: ",";\n\t--position: relative;\n\n\tdisplay: grid;\n\tplace-items: center;\n\tposition: relative;\n\theight: calc( var( --size ) * 1px );\n\twidth: calc( var( --size ) * 1px );\n\tpadding-top: .2em;\n\tfont-family: Roboto;\n\tfont-size: calc( var( --size ) * .3px );\n\tfont-weight: 500;\n\tcolor: var( "," );\n\tisolation: isolate;\n\tanimation: .3s "," both;\n\ttransition: .3s all;\n\n\t","\n\n\t&::before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tz-index: -1;\n\t\tinset: 0;\n\t\tbackground-color: var( "," );\n\t\tborder: calc( var( --size ) / 20 * 1px ) solid var( --color-gray );\n\t\tborder-radius: 100% 100% 25% 100%;\n\t\ttransform: rotate( 45deg );\n\n\t\t",";\n\n\t\t","\n\t}\n"])),(function(n){var t=n.size;return T[t]}),(function(n){var t=n.variant;return P[t].text}),_,(function(n){return n.muted&&(0,u.iv)(E||(E=(0,p.Z)(["\n\t\t\t--color-shadow: transparent;\n\n\t\t\topacity: .5 !important;\n\t\t"])))}),(function(n){var t=n.variant;return P[t].background}),(function(n){var t=n.elevation;return t&&(0,u.iv)(k||(k=(0,p.Z)(["\n\t\t\t\tbox-shadow: 1px 1px "," var( --color-shadow );\n\t\t\t"])),t)}),(function(n){return"active"===n.variant&&(0,u.iv)(C||(C=(0,p.Z)(["\n\t\t\t\tmask-image: radial-gradient( transparent 30%, #000 35% );\n\t\t\t"])))}));z.propTypes={variant:R.oneOf(["active","solid","ghost"]).isRequired,size:R.oneOf(["xs","sm","md","lg","xl"]).isRequired,muted:R.bool,elevation:R.number,children:R.oneOfType([R.node,R.arrayOf(R.node)])},z.defaultProps={variant:"solid",size:"md",muted:!1,elevation:8};const A=z;var I,F=e(9819);const L=(0,u.ZP)(F.Eh)(I||(I=(0,p.Z)(["\n  fill: #fff;\n  margin: 0 10px;\n"])));var O,q=e(5306),S=e(2110),D=e(1254);e(6231);const M=u.ZP.i(O||(O=(0,p.Z)(["\n\tmargin: 0 !important;\n\tpadding: 0 !important;\n"])));var N,U,V=e(216),$=["name"],K={sm:"15px",md:"18px"},Q=(0,u.ZP)(m)(N||(N=(0,p.Z)(["\n  --color: #a4afb7;\n  --background: transparent;\n  --padding: 4px;\n  --font-size: ",";\n  --border: none;\n  --border-radius: 100%;\n  --display: grid;\n\n  transition: 0.2s all;\n  place-items: center;\n  border-radius: 100%;\n  cursor: pointer;\n\n  &:hover, &:focus {\n\t--background: transparent;\n\t--color: #6d7882;\n\toutline: none;\n  }\n\n  &:focus {\n\t--background: #f1f3f5;\n  }\n\n  ","\n"])),(function(n){var t=n.size;return K[t]}),(function(n){return n.disabled&&(0,u.iv)(U||(U=(0,p.Z)(["\n\topacity: .5;\n\tpointer-events: none;\n\tcursor: not-allowed;\n  "])))})),j=a().forwardRef((function(n,t){var e=n.name,r=(0,D.Z)(n,$);return a().createElement(Q,(0,S.Z)({},r,{ref:t}),a().createElement(M,{className:e}))}));j.displayName="IconButton",j.propTypes={size:V.oneOf(["sm","md"]),name:V.string.isRequired,onClick:V.func,disabled:V.bool},j.defaultProps={size:"md"};const H=j;var B,Y,X,G,W,J,nn=(0,u.ZP)(H)(B||(B=(0,p.Z)(["\n  --position-spacing: 4px;\n\n  position: absolute;\n  top: var(--position-spacing);\n  inset-inline-end: var(--position-spacing);\n"])));function tn(n){return a().createElement(F.x8,{asChild:!0},a().createElement(nn,(0,S.Z)({},n,{name:"eicon-editor-close",size:"sm"})))}tn.propTypes=(0,q.Z)({},F.x8.propTypes);var en,rn=(0,u.F4)(Y||(Y=(0,p.Z)(["\n  0% {\n\topacity: 0;\n\ttransform: translateY(3px);\n  }\n  100% {\n\topacity: 1;\n\ttransform: translateY(0);\n  }\n"]))),on=(0,u.F4)(X||(X=(0,p.Z)(["\n  0% {\n\topacity: 0;\n\ttransform: translateX(-3px);\n  }\n  100% {\n\topacity: 1;\n\ttransform: translateX(0);\n  }\n"]))),an=(0,u.F4)(G||(G=(0,p.Z)(["\n  0% {\n\topacity: 0;\n\ttransform: translateY(-3px);\n  }\n  100% {\n\topacity: 1;\n\ttransform: translateY(0);\n  }\n"]))),ln=(0,u.F4)(W||(W=(0,p.Z)(["\n  0% {\n\topacity: 0;\n\ttransform: translateX(3px);\n  }\n  100% {\n\topacity: 1;\n\ttransform: translateX(0);\n  }\n"]))),sn=(0,u.F4)(J||(J=(0,p.Z)(["\n  0% {\n\ttransform: rotate(0deg);\n  }\n  100% {\n\ttransform: rotate(360deg);\n  }\n"])));const cn=(0,u.ZP)(F.VY)(en||(en=(0,p.Z)(['\n  all: revert;\n\n  font-family: Roboto, sans-serif !important;\n  font-size: 1em !important;\n  font-weight: normal !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  line-height: normal !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n  background: #fff !important;\n  border-radius: 3px !important;\n  min-width: 120px !important;\n  box-shadow: 0 1px 20px rgba(0, 0, 0, 0.15) !important;\n  animation-duration: 400ms !important;\n  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1) !important;\n\n  &[data-state="open"] {\n\t&[data-side="top"] {\n\t  animation-name: ',';\n\t}\n\n\t&[data-side="right"] {\n\t  animation-name: ',';\n\t}\n\n\t&[data-side="bottom"] {\n\t  animation-name: ',';\n\t}\n\n\t&[data-side="left"] {\n\t  animation-name: ',";\n\t}\n\n    *:focus {\n      outline: none;\n    }\n  }\n"])),rn,on,an,ln);var pn=F.fC;pn.Trigger=F.xz,pn.Content=cn,pn.Arrow=L,pn.CloseButton=tn,pn.propTypes=F.fC.propTypes;const un=pn;e(8935);var mn,dn=e(216),fn={sm:{width:16},md:{width:32},lg:{width:64}},vn=u.ZP.img(mn||(mn=(0,p.Z)(["\n\tall: revert;\n\n\taspect-ratio: 1 / 1;\n\tborder-radius: 100%;\n\theight: auto;\n\twidth: ","px;\n"])),(function(n){var t=n.size;return fn[t].width}));vn.propTypes={size:dn.oneOf(["sm","md","lg"]).isRequired,src:dn.string.isRequired},vn.defaultProps={size:"md"};const gn=vn;var hn,yn=e(3152);const bn=(0,u.ZP)(yn.VY)(hn||(hn=(0,p.Z)(['\n  all: revert;\n\n  background: #fff !important;\n  border-radius: 3px !important;\n  min-width: 120px !important;\n  box-shadow: 0 1px 20px rgba(0, 0, 0, 0.15) !important;\n  animation-duration: 400ms !important;\n  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1) !important;\n  padding: 4px !important;\n\n  &[data-state="open"] {\n\t&[data-side="top"] {\n\t  animation-name: ',';\n\t}\n\n\t&[data-side="right"] {\n\t  animation-name: ',';\n\t}\n\n\t&[data-side="bottom"] {\n\t  animation-name: ',';\n\t}\n\n\t&[data-side="left"] {\n\t  animation-name: ',";\n\t}\n  }\n"])),rn,on,an,ln);var Zn,xn,wn,En=e(216),kn=["children","icon"],Cn={default:{hoverTextColor:"#6d7882",hoverIconColor:"#a4afb6"},danger:{hoverTextColor:"#b01b1b",hoverIconColor:"#d9534f"}},Rn=(0,u.ZP)(M)(Zn||(Zn=(0,p.Z)(["\n  color: #a4afb6 !important;\n  transition: 0.2s all;\n"]))),Tn=(0,u.ZP)(yn.ck)(xn||(xn=(0,p.Z)(["\n  all: revert;\n\n  font-family: Roboto, sans-serif !important;\n  font-size: 11px !important;\n  font-weight: 500 !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  line-height: 1.2 !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n  cursor: pointer !important;\n  border-radius: 4px !important;\n  padding: 7px 12px !important;\n  color: #6d7882 !important;\n  display: flex !important;\n  align-items: center !important;\n  gap: 8px !important;\n  transition: 0.2s all !important;\n\n  &[data-disabled] {\n\topacity: 0.5 !important;\n\tpointer-events: none !important;\n  }\n\n  &:focus {\n\tbackground: #f1f3f5 !important;\n\toutline: none !important;\n\n\tcolor: "," !important;\n\n\t"," {\n\t  color: "," !important;\n\t}\n  }\n"])),(function(n){var t=n.variant;return Cn[t].hoverTextColor}),Rn,(function(n){var t=n.variant;return Cn[t].hoverIconColor}));function Pn(n){var t=n.children,e=n.icon,r=(0,D.Z)(n,kn);return a().createElement(Tn,r,e&&a().createElement(Rn,{className:e}),t)}Pn.propTypes=(0,q.Z)((0,q.Z)({},Pn.propTypes),{},{icon:En.string,variant:En.oneOf(["default","danger"])}),Pn.defaultProps={variant:"default"};const _n=(0,u.ZP)(yn.Eh)(wn||(wn=(0,p.Z)(["\n  fill: #fff;\n  margin: 0 10px;\n"])));var zn;const An=(0,u.ZP)(yn.Z0)(zn||(zn=(0,p.Z)(["\n  height: 1px !important;\n  background: #f1f3f5 !important;\n  margin: 7px 10px !important;\n"])));var In=yn.fC;In.Trigger=yn.xz,In.Content=bn,In.Item=Pn,In.Arrow=_n,In.Separator=An;const Fn=In;function Ln(){return(0,o.useMemo)((function(){return window.top.$e.components.get("notes").config}),[])}const On=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=Ln();return(0,o.useMemo)((function(){return t?!!t.userCan[n]:!!e.current_user_can[n]}),[n,t,e])};var qn,Sn=e(2186);const Dn=(0,u.ZP)(Sn.Eh)(qn||(qn=(0,p.Z)(["\n  fill: #26292c;\n"])));var Mn,Nn=(0,u.ZP)(Sn.VY)(Mn||(Mn=(0,p.Z)(['\n  all: revert;\n\n  font-family: Roboto, sans-serif !important;\n  font-size: 12px !important;\n  font-weight: normal !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  line-height: normal !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n  background: #26292c !important;\n  color: #fff !important;\n  border-radius: 3px !important;\n  box-shadow: 0 1px 20px rgba(0, 0, 0, 0.15) !important;\n  padding: 5px 12px !important;\n  animation-duration: 400ms !important;\n  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1) !important;\n  will-change: transform, opacity !important;\n\n  &[data-state="delayed-open"] {\n\t&[data-side="top"] {\n\t  animation-name: ','\n\t}\n\n\t&[data-side="right"] {\n\t  animation-name: ','\n\t}\n\n\t&[data-side="bottom"] {\n\t  animation-name: ','\n\t}\n\n\t&[data-side="left"] {\n\t  animation-name: ',"\n\t}\n  }\n"])),rn,on,an,ln);Nn.propTypes=Sn.VY.propTypes,Nn.defaultProps={side:"top"};const Un=Nn;var Vn=Sn.fC;Vn.Trigger=Sn.xz,Vn.Arrow=Dn,Vn.Content=Un;const $n=Vn;var Kn=e(1028),Qn=e(7846),jn=e.n(Qn),Hn=(e(373),e(3130),e(4415),e(9832),e(6699),e(5647),e(7945)),Bn=e.n(Hn),Yn=e(5949),Xn=e(4384),Gn=e(9391),Wn=e(9807),Jn=e(3056),nt=e(64),tt=(e(9975),function(){function n(){(0,Yn.Z)(this,n)}return(0,Xn.Z)(n,[{key:"init",value:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c()(t).forEach((function(t){var e=(0,l.Z)(t,2),r=e[0],o=e[1];n[r]=o})),this}}]),n}()),et=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(){var n;(0,Yn.Z)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),(0,nt.Z)((0,Gn.Z)(n),"id",null),(0,nt.Z)((0,Gn.Z)(n),"name",""),(0,nt.Z)((0,Gn.Z)(n),"slug",""),(0,nt.Z)((0,Gn.Z)(n),"avatarUrls",{24:null,48:null,96:null}),(0,nt.Z)((0,Gn.Z)(n),"capabilities",{}),n}return(0,Xn.Z)(e,null,[{key:"createFromResponse",value:function(n){var t,r;return(new e).init({id:n.id,name:n.name,slug:n.slug,avatarUrls:n.avatar_urls,capabilities:{notes:{read:null===(t=n.capabilities)||void 0===t||null===(r=t.notes)||void 0===r?void 0:r.can_read}}})}}]),e}(tt),rt=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(){var n;(0,Yn.Z)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),(0,nt.Z)((0,Gn.Z)(n),"id",void 0),(0,nt.Z)((0,Gn.Z)(n),"type",void 0),(0,nt.Z)((0,Gn.Z)(n),"typeTitle",void 0),n}return(0,Xn.Z)(e,null,[{key:"createFromResponse",value:function(n){return(new e).init({id:n.id,type:n.type,typeTitle:n.type_title})}}]),e}(tt),ot=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(){var n;(0,Yn.Z)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),(0,nt.Z)((0,Gn.Z)(n),"id",null),(0,nt.Z)((0,Gn.Z)(n),"parentId",0),(0,nt.Z)((0,Gn.Z)(n),"elementId",null),(0,nt.Z)((0,Gn.Z)(n),"content",""),(0,nt.Z)((0,Gn.Z)(n),"repliesCount",0),(0,nt.Z)((0,Gn.Z)(n),"unreadRepliesCount",0),(0,nt.Z)((0,Gn.Z)(n),"replies",[]),(0,nt.Z)((0,Gn.Z)(n),"author",null),(0,nt.Z)((0,Gn.Z)(n),"readers",[]),(0,nt.Z)((0,Gn.Z)(n),"isRead",!1),(0,nt.Z)((0,Gn.Z)(n),"isResolved",!1),(0,nt.Z)((0,Gn.Z)(n),"routeUrl",""),(0,nt.Z)((0,Gn.Z)(n),"routeTitle",""),(0,nt.Z)((0,Gn.Z)(n),"userCan",{}),(0,nt.Z)((0,Gn.Z)(n),"createdAt",null),(0,nt.Z)((0,Gn.Z)(n),"updatedAt",null),(0,nt.Z)((0,Gn.Z)(n),"lastActivityAt",null),(0,nt.Z)((0,Gn.Z)(n),"_formattedLastActivityAt",""),n}return(0,Xn.Z)(e,[{key:"getFormattedLastActivityAt",value:function(){return this._formattedLastActivityAt||(this._formattedLastActivityAt=this.lastActivityAt.toLocaleString()),this._formattedLastActivityAt}},{key:"getURL",value:function(){var n=this.isReply()?this.parentId:this.id;return this.constructor.getURL(n)}},{key:"isUnreadThread",value:function(){return this.isThread()&&(!this.isRead||this.unreadRepliesCount>0)}},{key:"isThread",value:function(){return 0===this.parentId}},{key:"isReply",value:function(){return!this.isThread()}}],[{key:"createFromResponse",value:function(n){return(new e).init({id:n.id,parentId:n.parent_id,elementId:n.element_id,content:n.content,repliesCount:n.replies_count,unreadRepliesCount:n.unread_replies_count,replies:n.replies.map((function(n){return e.createFromResponse(n)})),author:n.author?et.createFromResponse(n.author):null,document:n.document?rt.createFromResponse(n.document):null,readers:n.readers?n.readers.map((function(n){return et.createFromResponse(n)})):[],isRead:n.is_read,isResolved:n.is_resolved,routeUrl:n.route_url,routeTitle:n.route_title,userCan:n.user_can,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at),lastActivityAt:new Date(n.last_activity_at)})}},{key:"getURL",value:function(n){return window.top.$e.components.get("notes").config.route.note_url_pattern.replace("{{NOTE_ID}}",n)}}]),e}(tt),at=e(1286),it=e.n(at),lt=e(1992),st=e.n(lt);e(2900),e(5028),e(1242);function ct(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return t.reduce((function(n,t){return t.apply(void 0,[n].concat(r))}),n)}}var pt=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tokenClasses,r=t.fallbackTokenClass,o=t.parsePipeFunctions;(0,Yn.Z)(this,n),(0,nt.Z)(this,"tokenClasses",void 0),(0,nt.Z)(this,"fallbackTokenClass",void 0),(0,nt.Z)(this,"parsePipeFunctions",void 0),this.tokenClasses=e,this.fallbackTokenClass=r,this.parsePipeFunctions=o}return(0,Xn.Z)(n,[{key:"parse",value:function(n){var t,e=this.extractLexemes(n),r=this.tokenize(e);return ct.apply(void 0,(0,i.Z)(null!==(t=this.parsePipeFunctions)&&void 0!==t?t:[]))(r)}},{key:"extractLexemes",value:function(n){return n.trim().split(this.getLexerRegex()).reduce((function(n,t){return t&&n.push(t),n}),[])}},{key:"tokenize",value:function(n){var t=this;return n.map((function(n){var e=t.tokenClasses.find((function(t){return t.isToken(n)}));return e?e.create(n):t.fallbackTokenClass?t.fallbackTokenClass.create(n):null})).filter((function(n){return!!n}))}},{key:"getLexerRegex",value:function(){var n=this.tokenClasses.map((function(n){var t;return null===(t=n.getPattern())||void 0===t?void 0:t.source})).filter((function(n){return!!n}));return new RegExp("(".concat(n.join("|"),")"),"gm")}}]),n}(),ut=(e(6109),e(4791),function(){function n(t){(0,Yn.Z)(this,n),(0,nt.Z)(this,"type",void 0),(0,nt.Z)(this,"value",void 0),this.value=t,this.type=this.constructor.type}return(0,Xn.Z)(n,[{key:"is",value:function(n){return this.type===n.type}}],[{key:"getPattern",value:function(){return null}},{key:"isToken",value:function(n){return!!n.match(new RegExp(this.getPattern()))}},{key:"create",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new this(n)}}]),n}());(0,nt.Z)(ut,"type","");var mt=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(){return(0,Yn.Z)(this,e),t.apply(this,arguments)}return(0,Xn.Z)(e,null,[{key:"getPattern",value:function(){return/[\w\-.]+@(?:[\w-]+\.)+[\w-]{2,4}/}}]),e}(ut);(0,nt.Z)(mt,"type","Email");var dt=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(n){return(0,Yn.Z)(this,e),t.call(this,n||"\n")}return(0,Xn.Z)(e,null,[{key:"getPattern",value:function(){return/(?:\r?\n)/}}]),e}(ut);(0,nt.Z)(dt,"type","LineBreak");var ft=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(){return(0,Yn.Z)(this,e),t.apply(this,arguments)}return e}(ut);(0,nt.Z)(ft,"type","Paragraph");var vt=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(){return(0,Yn.Z)(this,e),t.apply(this,arguments)}return e}(ut);(0,nt.Z)(vt,"type","Text");var gt=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(){return(0,Yn.Z)(this,e),t.apply(this,arguments)}return e}(ut);(0,nt.Z)(gt,"type","Content");var ht=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(n){var r;return(0,Yn.Z)(this,e),r=t.call(this,n),(0,nt.Z)((0,Gn.Z)(r),"handle",void 0),(0,nt.Z)((0,Gn.Z)(r),"username",void 0),r.handle=yt.create(r.constructor.handleChar),r.username=bt.create(n.replace(r.constructor.handleChar,"")),r}return(0,Xn.Z)(e,null,[{key:"getPattern",value:function(){return new RegExp("\\B".concat(this.handleChar,"[\\w\\-]+"))}}]),e}(ut);(0,nt.Z)(ht,"type","Mention"),(0,nt.Z)(ht,"handleChar","@");var yt=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(){return(0,Yn.Z)(this,e),t.apply(this,arguments)}return e}(ut);(0,nt.Z)(yt,"type","Handle");var bt=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(){return(0,Yn.Z)(this,e),t.apply(this,arguments)}return e}(ut);(0,nt.Z)(bt,"type","Username");var Zt=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(){return(0,Yn.Z)(this,e),t.apply(this,arguments)}return(0,Xn.Z)(e,null,[{key:"getPattern",value:function(){return/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&\/=]*)/}}]),e}(ut);function xt(n){return n.push(dt.create()),n.reduce((function(n,t){var e=t;if(t.is(dt)){var r=function(n,t){for(var e=n.length-1;e>=0;e--)if(t(n[e],e))return e;return-1}(n,(function(n){return n.is(ft)}));e=ft.create(n.slice(r+1,n.length)),n=n.slice(0,r+1)}return n.push(e),n}),[])}function wt(n){return gt.create(n)}function Et(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.tokenClasses,e=n.fallbackTokenClass,r=n.parsePipeFunctions,o=[mt,dt,ht,Zt],a=vt,i=[xt,wt];return new pt({tokenClasses:null!=t?t:o,fallbackTokenClass:null!=e?e:a,parsePipeFunctions:null!=r?r:i})}(0,nt.Z)(Zt,"type","Url");var kt=2147483647;function Ct(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=".elementor-element[data-id=%s]",e="";return e=it()(n)?(n=n.filter((function(n){return!!n}))).map((function(n){return t.replace("%s",'"'.concat(n,'"'))})).join(","):t.replace("=%s",""),document.querySelectorAll(e)}function Rt(n){var t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.top.$e.components.get("notes").config.document.id,r=null===(t=Ct([n]))||void 0===t?void 0:t[0];if(!r)return e;var o=r.closest("[data-elementor-id]");return o?o.dataset.elementorId:e}function Tt(n){var t=Et({tokenClasses:[ht],fallbackTokenClass:!1,parsePipeFunctions:[]}).parse(n).map((function(n){return n.username.value}));return(0,i.Z)(new(st())(t))}function Pt(n){return c()(n).reduce((function(n,t){var e=(0,l.Z)(t,2),r=e[0],o=e[1];return null===o?n:("boolean"==typeof o&&(o=o?1:0),(0,q.Z)((0,q.Z)({},n),{},(0,nt.Z)({},r,o)))}),{})}var _t=e(108),zt=["id"];function At(){var n=Ft(),t=Lt(),e=Ot(),r=Ln();return(0,_t.useMutation)(function(){var n=(0,Kn.Z)(Bn().mark((function n(t){var e,o,a,i,l,s,c,p,u,m,d,f,v,g;return Bn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.postId,o=t.elementId,a=t.content,i=t.routeUrl,l=void 0===i?r.route.url:i,s=t.routeTitle,c=void 0===s?r.route.title:s,p=t.status,u=void 0===p?"publish":p,m=t.parentId,d=t.isPublic,f=void 0===d?null:d,e||(e=Rt(o)),n.next=4,window.top.$e.data.create("notes/index",(0,q.Z)({post_id:e,element_id:o,content:a,route_url:l,route_title:c,status:u,parent_id:m,mentioned_usernames:Tt(a)},null!==f?{is_public:f}:{}));case 4:return v=n.sent,g=v.data,n.abrupt("return",ot.createFromResponse(g.data));case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),{onSuccess:function(r){return jn().all([r.isThread()?t():n({id:r.parentId}),e()])}})}function It(){var n=Ft();return(0,_t.useMutation)(function(){var n=(0,Kn.Z)(Bn().mark((function n(t){var e,r;return Bn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.ids,r=t.isRead,e=e.filter((function(n){return!!n&&n>0})),n.next=4,window.top.$e.data[r?"create":"delete"]("notes/read-status",{ids:e});case 4:return n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),{onSuccess:function(t){return n({predicate:function(n){var e=n.queryKey;return t.includes(e[1])}})}})}function Ft(){var n=(0,_t.useQueryClient)();return(0,o.useCallback)((function(t){var e=t.id,r=(0,D.Z)(t,zt),o=["note"];return e&&o.push(e),n.invalidateQueries((0,q.Z)({queryKey:o},r))}),[n])}function Lt(){var n=(0,_t.useQueryClient)();return(0,o.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=["notes"];return n.invalidateQueries((0,q.Z)({queryKey:e},t))}),[n])}function Ot(){var n=(0,_t.useQueryClient)();return(0,o.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=["notes/summary"];return n.invalidateQueries((0,q.Z)({queryKey:e},t))}),[n])}var qt=React,St=qt.useEffect,Dt=qt.useRef;function Mt(n,t){var e=Dt(!0);St((function(){e.current?e.current=!1:n()}),t)}var Nt=e(8194).__,Ut=e(216);function Vt(n){var t,e,r=n.note.isResolved,o=(t=Lt(),e=Ft(),(0,_t.useMutation)(function(){var n=(0,Kn.Z)(Bn().mark((function n(t){var e,r,o,a;return Bn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.id,r=t.isResolved,n.next=3,window.top.$e.data.update("notes/index",{is_resolved:r},{id:e});case 3:return o=n.sent,a=o.data,n.abrupt("return",ot.createFromResponse(a.data));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),{onSuccess:function(n){return jn().all([e({id:n.id}),t({predicate:function(n){var t;return null===(t=n.queryKey[1])||void 0===t?void 0:t.hasOwnProperty("is_resolved")}})])}}));return Mt((function(){n.onLoadingChange&&n.onLoadingChange(o.isLoading)}),[o.isLoading]),a().createElement($n,null,a().createElement($n.Trigger,{asChild:!0},a().createElement(H,{name:r?"eicon-check-circle-o":"eicon-check",disabled:o.isLoading,onClick:function(){return o.mutateAsync({id:n.note.id,isResolved:!r})}})),a().createElement($n.Content,null,Nt(r?"Unresolve":"Resolve","elementor-pro"),a().createElement($n.Arrow,null)))}Vt.propTypes={note:Ut.shape({id:Ut.number,isResolved:Ut.bool}).isRequired,onLoadingChange:Ut.func};var $t=e(8194).__,Kt=e(216);function Qt(n){var t=n.note.isRead,e=It();return a().createElement(Fn.Item,{icon:"eicon-envelope",disabled:e.isLoading,onSelect:function(){return e.mutateAsync({ids:[n.note.id,n.note.parentId],isRead:!t})}},$t(t?"Mark as unread":"Mark as read","elementor-pro"))}Qt.propTypes={note:Kt.shape({id:Kt.number,parentId:Kt.number,isRead:Kt.bool}).isRequired};var jt,Ht,Bt=e(8194).__,Yt=e(216),Xt=(0,u.ZP)($n.Content)(jt||(jt=(0,p.Z)(["\n  max-width: 200px;\n"]))),Gt=(0,u.ZP)(M)(Ht||(Ht=(0,p.Z)(["\n  padding: 4px !important;\n  color: #a4afb7 !important;\n  transition: 0.2s all !important;\n  display: grid !important;\n  place-items: center !important;\n  font-size: 18px !important;\n  border-radius: 100% !important;\n\n  &:hover, &:focus {\n    color: #6d7882;\n\toutline: none;\n\tbackground: #f1f3f5;\n  }\n"])));function Wt(n){return 0===n.readers.length?null:a().createElement($n,{delayDuration:400},a().createElement($n.Trigger,{asChild:!0},a().createElement(Gt,{className:"eicon-preview-medium",tabIndex:0})),a().createElement(Xt,null,a().createElement("strong",null,Bt("Seen by","elementor-pro")+": "),n.readers.map((function(n){return n.name})).join(", "),a().createElement($n.Arrow,null)))}Wt.propTypes={readers:Yt.arrayOf(Yt.shape({name:Yt.string})).isRequired};var Jt,ne,te,ee,re,oe=e(8328),ae=(0,u.F4)(Jt||(Jt=(0,p.Z)(["\n  0% {\n\topacity: 0;\n  }\n  100% {\n\topacity: 1;\n  }\n"]))),ie=(0,u.F4)(ne||(ne=(0,p.Z)(["\n  0% {\n\topacity: 0;\n\ttransform: translate(-50%, -48%) scale(.96);\n  }\n  100% {\n\topacity: 1;\n\ttransform: translate(-50%, -50%) scale(1);\n  }\n"]))),le=(0,u.ZP)(oe.VY)(te||(te=(0,p.Z)(["\n  all: revert;\n\n  font-family: Roboto, sans-serif !important;\n  font-size: 1em !important;\n  font-weight: normal !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  line-height: normal !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n  background-color: #fff !important;\n  box-shadow: 2px 8px 23px rgba(0, 0, 0, 0.2) !important;\n  border-radius: 3px !important;\n  width: 375px !important;\n  text-align: center !important;\n  position: fixed !important;\n  top: 50% !important;\n  left: 50% !important;\n  transform: translate(-50%, -50%) !important;\n  max-height: 85vh !important;\n  animation-duration: 150ms !important;\n  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1) !important;\n  animation-name: "," !important;\n  z-index: "," !important;\n\n  &:focus {\n\toutline: none !important;\n  }\n"])),ie,kt),se=(0,u.ZP)(oe.aV)(ee||(ee=(0,p.Z)(["\n  background-color: rgba(0, 0, 0, 0.5) !important;\n  position: fixed !important;\n  inset: 0 !important;\n  animation-duration: 150ms !important;\n  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1) !important;\n  animation-name: "," !important;\n  z-index: "," !important;\n"])),ae,kt);function ce(n){return a().createElement(oe.h_,null,a().createElement(se,null),a().createElement(le,n))}ce.propTypes=(0,q.Z)({},oe.VY.propTypes);var pe=(0,u.ZP)(oe.Dx)(re||(re=(0,p.Z)(["\n  all: revert;\n\n  font-family: Roboto, sans-serif !important;\n  font-size: 17px !important;\n  font-weight: 500 !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  line-height: normal !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n  margin: 0 !important;\n  color: #495157 !important;\n\n  &::before, &::after {\n    display: none;\n  }\n"])));pe.propTypes=(0,q.Z)({},oe.Dx.propTypes);const ue=pe;var me;const de=u.ZP.div(me||(me=(0,p.Z)(["\n\tall: revert;\n\tbox-sizing: border-box;\n\n\t&:before,\n\t&:after {\n\t\tdisplay: none !important;\n\t}\n"])));var fe;const ve=(0,u.ZP)(de)(fe||(fe=(0,p.Z)(["\n  padding: 30px !important;\n  display: flex !important;\n  flex-direction: column !important;\n  gap: 12px !important;\n"])));var ge;const he=(0,u.ZP)(de)(ge||(ge=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n  border-top: 1px solid #d5dadf;\n\n  & > button:not(:first-child) {\n\t/**\n\t * will create a divider between the buttons,\n\t * not matter how much buttons exists in the container.\n\t */\n\tborder-inline-start: 1px solid #d5dadf;\n  }\n"])));var ye,be=(0,u.ZP)(oe.dk)(ye||(ye=(0,p.Z)(["\n  all: revert;\n\n  font-family: Roboto, sans-serif !important;\n  font-size: 13px !important;\n  font-weight: 500 !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  line-height: normal !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n  margin: 0 !important;\n  color: #495157 !important;\n"])));be.propTypes=(0,q.Z)({},oe.dk.propTypes);const Ze=be;var xe,we=(0,u.ZP)(m).attrs((function(){return{as:oe.$j}}))(xe||(xe=(0,p.Z)(["\n  --color: #6d7882;\n  --padding: 13px;\n  --font-size: 16px;\n  --border: none;\n\n  margin: 0;\n  flex-grow: 1;\n  transition: 0.2s all;\n  border-radius: 0;\n\n  &:focus, &:hover {\n    --background: #f1f3f5;\n\t--color: #6d7882;\n  }\n"])));we.propTypes=(0,q.Z)({},oe.$j.propTypes);const Ee=we;var ke,Ce=(0,u.ZP)(m).attrs((function(){return{as:oe.aU}}))(ke||(ke=(0,p.Z)(["\n\n  --font-size: 16px;\n  --color: #b01b1b;\n  --padding: 13px;\n\n  margin: 0;\n  flex-grow: 1;\n  transition: 0.2s all;\n  border: none;\n  border-radius: 0;\n\n  &:focus, &:hover {\n\t--background: #f1f3f5;\n\t--color: #b01b1b;\n  }\n"])));Ce.propTypes=(0,q.Z)({},oe.aU.propTypes);const Re=Ce;var Te=oe.fC;Te.Trigger=oe.xz,Te.Content=ce,Te.Description=Ze,Te.DescriptionContainer=ve,Te.ActionsContainer=he,Te.Title=ue,Te.Cancel=Ee,Te.Action=Re,Te.propTypes=oe.fC.propTypes;const Pe=Te;var _e=e(8194).__,ze=e(216);function Ae(n){var t,e,r,o=(t=Lt(),e=Ft(),r=Ot(),(0,_t.useMutation)(function(){var n=(0,Kn.Z)(Bn().mark((function n(t){var e,r,o,a;return Bn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.id,r=t.parentId,o=t.force,a=void 0!==o&&o,n.next=3,window.top.$e.data.delete("notes/index",{id:e},{force:a});case 3:return n.abrupt("return",{id:e,parentId:r});case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),{onSuccess:function(n){var o=n.parentId;return jn().all([o?e({id:o}):t(),r()])}}));return Mt((function(){n.onLoadingChange&&n.onLoadingChange(o.isLoading)}),[o.isLoading]),a().createElement(Pe,{open:n.isOpen,onOpenChange:n.onOpenChange},a().createElement(Pe.Content,null,a().createElement(Pe.DescriptionContainer,null,a().createElement(Pe.Title,null,n.note.isReply()?_e("Delete this reply?","elementor-pro"):_e("Delete this note?","elementor-pro")),a().createElement(Pe.Description,null,n.note.isReply()?_e("Deleted replies can't be recovered.","elementor-pro"):_e("Deleted notes can't be recovered.","elementor-pro"))),a().createElement(Pe.ActionsContainer,null,a().createElement(Pe.Cancel,null,_e("Cancel","elementor-pro")),a().createElement(Pe.Action,{onClick:function(){return o.mutateAsync({id:n.note.id,parentId:n.note.parentId,force:!0})}},_e("Delete","elementor-pro")))))}Ae.propTypes={isOpen:ze.bool.isRequired,onOpenChange:ze.func.isRequired,note:ze.instanceOf(ot),onLoadingChange:ze.func};var Ie=e(8194).__,Fe=e(216);function Le(n){var t=Ln().direction,e=(0,o.useContext)(Yo).setIsDisabled,r=(0,o.useState)(!1),i=(0,l.Z)(r,2),s=i[0],c=i[1],p=On("delete",n.note),u=On("edit",n.note),m=n.note.isThread()&&u,d=u||p||n.note.isThread();return(0,o.useEffect)((function(){return function(){return e(!1)}}),[]),a().createElement(a().Fragment,null,m&&a().createElement(Vt,{note:n.note,onLoadingChange:function(n){return e(n)}}),a().createElement(Wt,{readers:n.note.readers}),d&&a().createElement(Fn,{modal:!1,dir:t},a().createElement(Fn.Trigger,{asChild:!0},a().createElement(H,{name:"eicon-ellipsis-h"})),a().createElement(Fn.Content,{align:"end"},n.note.isThread()&&a().createElement(Qt,{note:n.note}),u&&a().createElement(Fn.Item,{onSelect:function(){return n.setIsEditMode(!0)},icon:"eicon-edit"},Ie("Edit","elementor-pro")),n.note.isThread()&&a().createElement(Fn.Item,{onSelect:function(){window.top.$e.run("notes/copy-link",{id:n.note.id})},icon:"eicon-copy"},Ie("Copy Link","elementor-pro")),p&&a().createElement(a().Fragment,null,a().createElement(Fn.Separator,null),a().createElement(Fn.Item,{onSelect:function(){return c(!0)},icon:"eicon-trash",variant:"danger"},Ie("Delete","elementor-pro"))),a().createElement(Fn.Arrow,null))),a().createElement(Ae,{note:n.note,isOpen:s,onOpenChange:c,onLoadingChange:function(n){return e(n)}}))}Le.propTypes={note:Fe.shape({id:Fe.number,parentId:Fe.number,isRead:Fe.bool,isResolved:Fe.bool,isThread:Fe.func,readers:Fe.arrayOf(Fe.shape({name:Fe.string}))}).isRequired,setIsEditMode:Fe.func.isRequired};e(9674);var Oe,qe,Se,De,Me=e(216),Ne=["maxRows","autoSize"],Ue=(0,u.ZP)(de)(Oe||(Oe=(0,p.Z)(["\n  --font: 500 12px Roboto, sans-serif;\n  --line-height: 1.5;\n  --padding-block: 0.7em;\n\n  font-size: 16px !important;\n  border-radius: 4px !important;\n  border: 1px solid #c2cbd2 !important;\n  transition: .3s border-color, .3s opacity !important;\n  padding: var(--padding-block) 12px !important;\n  overflow: auto !important;\n  width: 100% !important;\n  box-sizing: border-box !important;\n\n  ",";\n\n  textarea {\n    all: revert;\n\n\tborder: none !important;\n    font: var( --font ) !important;\n\tline-height: var(--line-height) !important;\n\tpadding: 0 !important;\n\tmargin: 0 !important;\n\tcolor: #6d7882 !important;\n\tdisplay: block !important;\n\theight: 100% !important;\n  }\n\n  &:focus-within {\n\tborder-color: #a4afb6 !important;\n\n\t// Accessibility-friendly, since the Container itself has a border on focus.\n\ttextarea:focus {\n\t  outline: none !important;\n\t  border: none !important;\n\t}\n  }\n\n  ","\n\n  ",""])),(function(n){var t=n.maxRows;return t&&(0,u.iv)(qe||(qe=(0,p.Z)(["\n\t--max-rows: ",";\n\n\tmax-height: calc((1em * var(--line-height) * var(--max-rows)) + (var(--padding-block) * 2)) !important;\n  "])),t)}),(function(n){return n.disabled&&(0,u.iv)(Se||(Se=(0,p.Z)(["\n\topacity: .5 !important;\n\tpointer-events: none !important;\n  "])))}),(function(n){return n.autoSize&&(0,u.iv)(De||(De=(0,p.Z)(["\n\tdisplay: inline-grid !important;\n\tvertical-align: top !important;\n\talign-items: center !important;\n\n\ttextarea {\n\t  grid-area: 2 / 1 !important;\n\t  resize: none !important;\n\t  background: none !important;\n\t  appearance: none !important;\n\t  box-shadow: none !important;\n\n\t  &::placeholder {\n\t    all: revert;\n\t  }\n\t}\n\n\t&::after {\n\t  content: attr(data-value) ' ' !important;\n\t  display: block !important;\n\t  font: var( --font ) !important;\n\t  white-space: pre-wrap !important;\n\t  grid-area: 2 / 1 !important;\n\t  visibility: hidden !important;\n\t  line-height: var(--line-height) !important;\n\t}"])))})),Ve=a().forwardRef((function(n,t){var e=n.maxRows,r=n.autoSize,i=(0,D.Z)(n,Ne),l=(0,o.useRef)();return a().createElement(Ue,{maxRows:e,"data-value":i.value||i.defaultValue,autoSize:r,ref:l},a().createElement("textarea",(0,S.Z)({},i,{ref:t,onInput:function(n){i.onInput&&i.onInput(n),l.current.dataset.value=n.target.value}})))}));Ve.displayName="Textarea",Ve.propTypes={disabled:Me.bool,autoSize:Me.bool,maxRows:Me.number,onInput:Me.func,value:Me.string,defaultValue:Me.string};const $e=Ve;var Ke,Qe={enabled:!0,params:{}};const je=u.ZP.ul(Ke||(Ke=(0,p.Z)(["\n\tall: revert;\n\n\tpadding: 0 !important;\n\tmargin: 0 !important;\n\tlist-style: none !important;\n\twidth: 220px !important;\n\tz-index: 1 !important; // Just needs any 'z-index' value in order to appear above other things.\n\tbackground: #ffffff !important;\n\tborder-radius: 3px !important;\n\tbox-shadow: 0 1px 20px rgba(0, 0, 0, 0.15) !important;\n"])));var He,Be,Ye=e(216),Xe=["children","value","disabled"],Ge=u.ZP.li(He||(He=(0,p.Z)(['\n\tall: revert;\n\n\tfont-family: Roboto, sans-serif !important;\n\tfont-size: 12px !important;\n\tcolor: #6d7882 !important;\n\tbackground: #ffffff !important;\n\tpadding: 8px !important;\n\tcursor: pointer !important;\n\n\t&:first-child {\n\t\tborder-top-right-radius: inherit;\n\t\tborder-top-left-radius: inherit;\n\t}\n\n\t&:last-child {\n\t\tborder-bottom-right-radius: inherit;\n\t\tborder-bottom-left-radius: inherit;\n\t}\n\n\t&[role="option"]:hover,\n\t&[aria-selected="true"] {\n\t\tbackground: #58d0f5 !important;\n\n\t\t&,\n\t\t& * {\n\t\t\tcolor: #ffffff !important;\n\t\t}\n\t}\n\n\t&[aria-disabled="true"] {\n\t\tcursor: not-allowed !important;\n\t\topacity: .5 !important;\n\t}\n'])));function We(n){var t=n.children,e=n.value,r=n.disabled,o=(0,D.Z)(n,Xe);return a().createElement(Ge,(0,S.Z)({role:r?"listitem":"option","data-value":e},r?{"aria-disabled":!0}:{},o),t)}We.propTypes={value:Ye.string.isRequired,disabled:Ye.bool,children:Ye.oneOfType([Ye.node,Ye.arrayOf(Ye.node)]).isRequired},We.defaultProps={value:""};const Je=(0,u.ZP)(We).attrs((function(){return{role:"contentinfo"}}))(Be||(Be=(0,p.Z)(["\n\tfont-family: Roboto, sans-serif !important;\n\tbackground: #f1f3f5 !important;\n\ttext-align: center !important;\n\tfont-size: 12px !important;\n"])));e(3692);var nr=e(216),tr=function(n){var t,e,r,i=(0,o.useRef)(null),l=(0,o.useRef)(null),s=(t=function(t){var e=t.resolve,r=t.text;l.current||(l.current=document.createElement("div"));var o=n.fragment({search:r});ReactDOM.render(o,l.current),e({matched:!0,fragment:l.current})},e=n.debounce,r=(0,o.useRef)(),(0,o.useCallback)((function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];var i=function(){clearTimeout(r.current),t.apply(void 0,o)};clearTimeout(r.current),r.current=setTimeout(i,e)}),[t,e])),c=function(n){var t=n.detail,e=t.provide,r=t.text;e(new(jn())((function(n){return s({resolve:n,text:r})})))},p=function(t){var e=t.detail.item;t.detail.value="".concat(n.handle).concat(e.dataset.value)};return(0,o.useEffect)((function(){return i.current.addEventListener("text-expander-change",c),i.current.addEventListener("text-expander-value",p),function(){i.current&&(i.current.removeEventListener("text-expander-change",c),i.current.removeEventListener("text-expander-value",p))}}),[]),a().createElement("text-expander",{keys:n.handle,ref:i,multiword:n.multiword?n.handle:null},n.children)};tr.List=je,tr.ListItem=We,tr.ListFooter=Je,tr.propTypes={fragment:nr.func.isRequired,debounce:nr.number.isRequired,handle:nr.string.isRequired,multiword:nr.bool.isRequired,children:nr.node.isRequired},tr.defaultProps={debounce:0,handle:"@",multiword:!1};const er=tr;var rr,or,ar,ir,lr,sr,cr=e(8194).__,pr=e(216),ur={limit:5,order_by:"user_registered",order:"desc"},mr=(0,u.ZP)(er.List)(rr||(rr=(0,p.Z)(["\n\tposition: absolute !important;\n\ttop: 100% !important;\n"]))),dr=(0,u.ZP)(er.ListItem)(or||(or=(0,p.Z)(["\n\tdisplay: flex !important;\n\tflex-direction: row !important;\n\talign-items: center !important;\n\tgap: 10px !important;\n"]))),fr=(0,u.ZP)(de)(ar||(ar=(0,p.Z)(["\n\tdisplay: flex !important;\n\tflex-direction: column !important;\n\tjustify-content: space-between !important;\n\n\t&::before,\n\t&::after {\n\t\tdisplay: none !important;\n\t}\n"]))),vr=u.ZP.span(ir||(ir=(0,p.Z)(["\n\tall: revert;\n\n\tpadding: 0 !important;\n\tmargin: 0 !important;\n\tfont-size: 12px !important;\n\tfont-weight: bold !important;\n\tcolor: inherit !important;\n"]))),gr=u.ZP.span(lr||(lr=(0,p.Z)(["\n\tfont-size: 11px !important;\n\tcolor: #a4afb6 !important;\n"]))),hr=u.ZP.a.attrs((function(){return{target:"_blank",rel:"noreferrer"}}))(sr||(sr=(0,p.Z)(["\n\tall: revert;\n\n\tcolor: #58d0f5 !important;\n\tfont-family: Roboto, sans-serif !important;\n\tfont-size: 1em !important;\n\tfont-weight: normal !important;\n\ttext-transform: none !important;\n\tfont-style: normal !important;\n\ttext-decoration: underline !important;\n\tline-height: normal !important;\n\tletter-spacing: normal !important;\n\tword-spacing: normal !important;\n\n\t&:hover,\n\t&:focus {\n\t\tcolor: #6d7882 !important;\n\t\ttext-decoration: underline; // Repeat in order to override theme styles.\n\t}\n"])));function yr(n){var t=Ln().urls,e=On("create_users"),r=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useMemo)((function(){return(0,q.Z)((0,q.Z)({},Qe),n)}),[n]),e=(0,o.useMemo)((function(){return Pt(t.params||{})}),[t.params]);return(0,_t.useQuery)(["users",e],function(){var n=(0,Kn.Z)(Bn().mark((function n(t){var e,r,o,a,i;return Bn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,l.Z)(t.queryKey,2),r=e[1],o=t.signal,n.next=3,window.top.$e.data.get("notes/users",r,{refresh:!0,signal:o});case 3:return a=n.sent,i=a.data,n.abrupt("return",i.data.map((function(n){return et.createFromResponse(n)})));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),{keepPreviousData:!0,enabled:t.enabled})}({params:(0,q.Z)((0,q.Z)({},ur),{},{search:n.search})}),i=r.data,s=void 0===i?[]:i,c=r.isSuccess;return a().createElement(mr,null,s.map((function(n){return a().createElement(dr,{key:n.id,value:n.slug},a().createElement(gn,{size:"md",src:n.avatarUrls[48]}),a().createElement(fr,null,a().createElement(vr,null,n.name),a().createElement(gr,null,n.slug)))})),c&&a().createElement(er.ListFooter,null,a().createElement("strong",null,cr("Can't find someone?","elementor-pro")),a().createElement("br",null),a().createElement("span",null,e?a().createElement(a().Fragment,null,cr("Add them from the","elementor-pro")," ",a().createElement(hr,{href:t.admin_url_create_user},cr("WP Dashboard","elementor-pro"))):cr("Ask the site admin to add them","elementor-pro"))))}yr.propTypes={search:pr.string};const br=new _t.QueryClient({defaultOptions:{queries:{retry:2,staleTime:2e4,refetchOnWindowFocus:!0},mutations:{retry:2}}});var Zr,xr,wr,Er=e(8194).__,kr=e(216),Cr=(0,u.ZP)(de)(Zr||(Zr=(0,p.Z)(["\n  position: relative;\n"])));function Rr(n){var t=function(n){var t=(0,o.useRef)();return(0,o.useEffect)((function(){if(t.current){var e=n?n.length:0;t.current.focus(),t.current.setSelectionRange(e,e)}}),[]),t}(n.defaultValue),e=n.isReply?Er("Type your reply. Use @ to mention...","elementor-pro"):Er("Type a note. Use @ to mention...","elementor-pro");return a().createElement(Cr,null,a().createElement(er,{debounce:250,fragment:function(n){var t=n.search;return a().createElement(_t.QueryClientProvider,{client:br},a().createElement(yr,{search:t}))}},a().createElement($e,{name:n.name,placeholder:e,onKeyDown:function(t){n.onMetaAndEnterKeyDown&&(t.metaKey||t.ctrlKey)&&"enter"===t.key.toLowerCase()&&n.onMetaAndEnterKeyDown(t)},disabled:n.disabled,ref:t,defaultValue:n.defaultValue,onChange:n.onChange,rows:1,maxRows:6,autoSize:!0})))}Rr.propTypes={name:kr.string,disabled:kr.bool,onMetaAndEnterKeyDown:kr.func,defaultValue:kr.string,onChange:kr.func,isReply:kr.bool.isRequired},Rr.defaultProps={isReply:!1};var Tr=u.ZP.form(xr||(xr=(0,p.Z)(["\n  all: revert;\n\n  display: flex !important;\n  flex-direction: column !important;\n  gap: 16px !important;\n"])));Tr.ButtonsContainer=(0,u.ZP)(de)(wr||(wr=(0,p.Z)(["\n  display: flex !important;\n  flex-direction: row-reverse !important;\n  justify-content: end !important;\n  gap: 8px !important;\n"])));const Pr=Tr;var _r,zr=e(8194).__,Ar=e(216);function Ir(n){var t,e=(t=Ft(),(0,_t.useMutation)(function(){var n=(0,Kn.Z)(Bn().mark((function n(t){var e,r,o,a;return Bn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.id,r=t.values.content,n.next=3,window.top.$e.data.update("notes/index",{content:r,mentioned_usernames:Tt(r)},{id:e});case 3:return o=n.sent,a=o.data,n.abrupt("return",ot.createFromResponse(a.data));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),{onSuccess:function(n){return t({id:n.isThread()?n.id:n.parentId})}})),r=(0,o.useState)(0===n.note.content.length),i=(0,l.Z)(r,2),s=i[0],c=i[1],p=function(){var t=(0,Kn.Z)(Bn().mark((function t(r){var o;return Bn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),o=r.target.closest("form").content.value,t.next=4,e.mutateAsync({id:n.note.id,values:{content:o}});case 4:n.onClose();case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return a().createElement(Pr,{onSubmit:p},a().createElement(Rr,{name:"content",id:"content",disabled:e.isLoading,defaultValue:n.note.content,onMetaAndEnterKeyDown:p,onChange:function(n){return c(0===n.target.value.length)},isReply:n.note.isReply()}),a().createElement(Pr.ButtonsContainer,null,a().createElement(Z,{disabled:e.isLoading||s,type:"submit"},zr("Save","elementor-pro")),a().createElement(Z,{disabled:e.isLoading,variant:"outlined",type:"reset",onClick:function(){return n.onClose()}},zr("Cancel","elementor-pro"))))}Ir.propTypes={note:Ar.instanceOf(ot).isRequired,onClose:Ar.func.isRequired};const Fr=u.ZP.p(_r||(_r=(0,p.Z)(["\n  --color-gray-600: #6d7882;\n\n  font-family: Roboto, sans-serif !important;\n  font-size: 12px !important;\n  font-weight: 500 !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  line-height: 1.5 !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n  color: var(--color-gray-600);\n  margin: 0 0 5px 0 !important;\n"])));var Lr;const Or=u.ZP.span(Lr||(Lr=(0,p.Z)(["\n  color: #58d0f5;\n"])));var qr,Sr=u.ZP.a(qr||(qr=(0,p.Z)(["\n  all: revert;\n\n  --color-editor-info: #58d0f5;\n  --color-editor-info-dark: #10bcf2;\n\n  font-family: Roboto, sans-serif !important;\n  font-size: 1em !important;\n  font-weight: normal !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  line-height: normal !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n  cursor: pointer;\n\n\n  &,\n  &:visited {\n    color: var( --color-editor-info ) !important;\n  }\n\n  &:hover,\n  &:focus {\n    color: var( --color-editor-info-dark ) !important;\n  }\n"])));Sr.defaultProps={target:"_blank",rel:"noopener noreferrer"};const Dr=Sr;var Mr=e(216);function Nr(n){return a().createElement(Dr,{href:n.token.value},n.children)}Nr.propTypes={children:Mr.node.isRequired,token:Mr.shape({value:Mr.string}).isRequired};var Ur=e(216);function Vr(n){return a().createElement(Dr,{href:"mailto:".concat(n.token.value)},n.children)}Vr.propTypes={children:Ur.node.isRequired,token:Ur.shape({value:Ur.string}).isRequired};var $r=e(216),Kr={Paragraph:Fr,Mention:Or,Url:Nr,Email:Vr,default:function(n){return n.children}};function Qr(n){var t=(0,o.useMemo)((function(){return Kr[n.token.type]||Kr.default}),[n.token.type]);return a().createElement(t,{token:n.token},it()(n.token.value)?n.token.value.map((function(n,t){return a().createElement(Qr,{token:n,key:t})})):n.token.value)}var jr={};jr.value=$r.oneOfType([$r.string,$r.arrayOf($r.shape(jr))]),Qr.propTypes={token:$r.shape(jr)};var Hr,Br,Yr=e(216),Xr=Et(),Gr=(0,u.ZP)(de)(Hr||(Hr=(0,p.Z)(["\n  white-space: normal;\n  word-break: break-word;\n  word-wrap: break-word;\n\n  ",";\n"])),(function(n){return n.disableInteractions&&(0,u.iv)(Br||(Br=(0,p.Z)(["\n\tpointer-events: none;\n  "])))}));function Wr(n){var t=(0,o.useMemo)((function(){return Xr.parse(n.children)}),[n.children]);return a().createElement(Gr,{disableInteractions:n.disableInteractions},t&&a().createElement(Qr,{token:t}))}Wr.propTypes={children:Yr.string.isRequired,disableInteractions:Yr.bool},Wr.defaultProps={disableInteractions:!1};const Jr=Wr;var no,to,eo=e(8194).__,ro=e(216),oo=u.ZP.p(no||(no=(0,p.Z)(["\n  all: revert;\n\n  color: #a4afb6 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  font-family: Roboto, sans-serif !important;\n  font-size: 9px !important;\n  font-weight: normal !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  line-height: 1.5 !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n"]))),ao=u.ZP.strong(to||(to=(0,p.Z)(["\n  font-weight: 500;\n"])));function io(n){var t,e=Ln(),r=e.document,o=e.route,i=(null===(t=n.note.document)||void 0===t?void 0:t.id)===r.id,l=n.note.routeUrl===o.url;return!n.note.document||i&&l?null:a().createElement(oo,null,eo("Noted on:","elementor-pro")," ",a().createElement(ao,null,i?n.note.routeTitle:n.note.document.typeTitle))}io.propTypes={note:ro.instanceOf(ot).isRequired};var lo,so,co,po,uo,mo,fo,vo,go,ho=e(216),yo={sm:{text:9},md:{text:12}},bo=(0,u.ZP)(de)(lo||(lo=(0,p.Z)(['\n  --color-gray-500: #a4afb6;\n  --color-gray-600: #6d7882;\n\n  display: flex !important;\n  align-items: start !important;\n  gap: 12px !important;\n\n  &, & *:not( [class*="eicon"] ) {\n    font-family: Roboto, sans-serif !important;\n  }\n']))),Zo=(0,u.ZP)(de)(so||(so=(0,p.Z)(["\n  display: flex !important;\n  flex-direction: column !important;\n  gap: 12px !important;\n  flex-grow: 1 !important;\n  line-height: 1 !important;\n"]))),xo=(0,u.ZP)(de)(co||(co=(0,p.Z)(["\n  display: flex !important;\n  gap: 10px !important;\n  padding-top: 4px !important;\n  line-height: 1 !important;\n"]))),wo=(0,u.ZP)(de)(po||(po=(0,p.Z)(["\n  display: flex !important;\n  flex-direction: column !important;\n  gap: 5px !important;\n  flex-grow: 1 !important;\n  line-height: 1 !important;\n"]))),Eo=(0,u.ZP)(de)(uo||(uo=(0,p.Z)(["\n  display: flex !important;\n  gap: 5px !important;\n  flex-shrink: 0 !important;\n  align-items: center !important;\n  line-height: 1 !important;\n"]))),ko=u.ZP.span(mo||(mo=(0,p.Z)(["\n  color: var(",") !important;\n  margin: 0 !important;\n  padding: 0 !important;\n\n  ",";\n\n  ",";\n\n  ",";\n"])),(function(n){return n.muted?"--color-gray-500":"--color-gray-600"}),(function(n){var t=n.size;return t&&(0,u.iv)(fo||(fo=(0,p.Z)(["\n\tfont-size: ","px !important;\n  "])),yo[t].text)}),(function(n){var t=n.weight;return t&&(0,u.iv)(vo||(vo=(0,p.Z)(["\n\tfont-weight: "," !important;\n  "])),t)}),(function(n){var t=n.lineHeight;return(0,u.iv)(go||(go=(0,p.Z)(["\n\tline-height: "," !important;\n  "])),t||1)}));function Co(n){var t=(0,o.useState)(!1),e=(0,l.Z)(t,2),r=e[0],i=e[1];return a().createElement(bo,null,a().createElement(gn,{size:"md",src:n.note.author.avatarUrls[48]}),a().createElement(Zo,null,a().createElement(xo,null,a().createElement(wo,null,a().createElement(ko,{size:"md",weight:500},n.note.author.name),a().createElement(ko,{size:"sm",lineHeight:1.5,muted:!0},n.note.getFormattedLastActivityAt())),a().createElement(Eo,null,!r&&a().createElement(Le,{note:n.note,setIsEditMode:i}))),!r&&a().createElement(Jr,null,n.note.content),r&&a().createElement(Ir,{note:n.note,onClose:function(){return i(!1)}}),a().createElement(io,{note:n.note})))}Co.propTypes={note:ho.instanceOf(ot).isRequired};e(4128);function Ro(n){var t=(0,_t.useQueryClient)(),e=function(n){return(0,o.useCallback)((function(t){t.isReply()||n.setQueriesData({queryKey:"notes",exact:!1,active:!0},(function(n){if(!n)return n;var e=n.findIndex((function(n){return n.id===t.id}));return-1!==e&&(n[e]=t),n}))}),[n])}(t),r=function(n,t){return(0,o.useCallback)((function(){var e;return null===(e=n.getQueryData("notes",{active:!0,exact:!1}))||void 0===e?void 0:e.find((function(n){return n.id===t}))}),[n,t])}(t,n);return(0,_t.useQuery)(["note",n],function(){var n=(0,Kn.Z)(Bn().mark((function n(t){var e,r,o,a,i;return Bn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,l.Z)(t.queryKey,2),r=e[1],o=t.signal,n.next=3,window.top.$e.data.get("notes/index",{id:r},{refresh:!0,signal:o});case 3:return a=n.sent,i=a.data,n.abrupt("return",ot.createFromResponse(i.data));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),{onSuccess:e,placeholderData:r})}var To=e(8194).__,Po=e(216);function _o(n){var t=At(),e=(0,o.useState)(!1),r=(0,l.Z)(e,2),i=r[0],s=r[1],c=function(){var e=(0,Kn.Z)(Bn().mark((function e(r){var o,a;return Bn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),o=r.target.closest("form"),a=o.content.value,e.next=4,t.mutateAsync({elementId:n.thread.elementId,parentId:n.thread.id,content:a});case 4:o.reset(),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return a().createElement(Pr,{onSubmit:c},a().createElement(Rr,{disabled:t.isLoading,name:"content",onMetaAndEnterKeyDown:c,onChange:function(n){return s(n.target.value.length>0)},isReply:!0}),i&&a().createElement(Pr.ButtonsContainer,null,a().createElement(Z,{disabled:t.isLoading,type:"submit"},To("Reply","elementor-pro")),a().createElement(Z,{disabled:t.isLoading,variant:"outlined",type:"reset"},To("Cancel","elementor-pro"))))}_o.propTypes={thread:Po.shape({id:Po.number,elementId:Po.string}).isRequired};var zo,Ao,Io=e(8194).__,Fo=e(216),Lo=(0,u.ZP)(M).attrs({className:"eicon-loading eicon-animation-spin"})(zo||(zo=(0,p.Z)(["\n  align-self: center !important;\n  color: #a4afb6 !important;\n"]))),Oo=u.ZP.p(Ao||(Ao=(0,p.Z)(["\n  all: revert;\n\n  font-family: Roboto, sans-serif !important;\n  font-size: 12px !important;\n  font-weight: normal !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  line-height: normal !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n  color: #6d7882 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n"])));function qo(n){var t=Ro(n.threadId),e=t.isLoading,r=t.isPlaceholderData,l=t.data,s=t.isSuccess,c=t.isError,p=0!==l.repliesCount;return function(n){var t=n.thread,e=n.shouldTrigger,r=(0,o.useRef)(!1),a=It();(0,o.useEffect)((function(){if(!r.current&&e){var n=[t].concat((0,i.Z)(t.replies||[])).filter((function(n){return!n.isRead})).map((function(n){return n.id}));0!==n.length&&a.mutate({ids:n,isRead:!0}),r.current=!0}}),[t,e])}({thread:l,shouldTrigger:s&&!r}),e?a().createElement(Lo,null):c?a().createElement(Oo,null,Io("Something went wrong.","elementor-pro")):a().createElement(a().Fragment,null,a().createElement(Co,{note:l,key:l.id}),p&&r&&a().createElement(Lo,null),l.replies.map((function(n){return a().createElement(Co,{key:n.id,note:n})})),a().createElement(_o,{thread:l}))}qo.propTypes={threadId:Fo.number.isRequired};var So=e(2237),Do="thread",Mo="new-thread";function No(){var n=(0,So.v9)((function(n){return n.notes.active})),t=(0,o.useCallback)((function(n){var t=n.type,e=n.data,r=[Do,Mo];if(!r.includes(t))throw new Error("`setActive()` type must be one of: "+r.join(", "));return window.top.$e.run("notes/set-active",{type:t,data:e})}),[]),e=(0,o.useCallback)((function(){return window.top.$e.run("notes/clear-active")}),[]),r=(0,o.useCallback)((function(t){return n&&Do===n.type&&n.data.noteId===t}),[n]);return{activeThread:n,setActive:t,clearActive:e,isThreadActive:r}}var Uo="e-notes--disable-new-thread";var Vo=["onlyIfNeeded"];function $o(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.onlyIfNeeded,r=void 0===e||e,a=(0,D.Z)(t,Vo),i=(0,o.useRef)(null);return(0,o.useEffect)((function(){var t=!!n;r&&(t=t&&!Ko(i.current)),t&&setTimeout((function(){i.current.scrollIntoView((0,q.Z)({behavior:"smooth",block:"center",inline:"center"},a))}))}),[n]),i}function Ko(n){var t=n.getBoundingClientRect(),e=t.top,r=t.left,o=t.bottom,a=t.right,i=n.parentElement.getBoundingClientRect(),l=i.top,s=i.right,c=i.bottom,p=i.left;return e>=0&&r>=0&&e<=window.innerHeight&&r<=window.innerWidth&&(e>=l&&a<=s&&o<=c&&r>=p)}var Qo,jo,Ho=e(216),Bo=(0,u.ZP)(de)(Qo||(Qo=(0,p.Z)(["\n  display: flex !important;\n  flex-direction: column !important;\n  gap: 28px !important;\n  padding: 20px 16px !important;\n  width: 360px !important;\n  border-radius: 4px !important;\n  transition: 0.3s all !important;\n\n  ","\n"])),(function(n){return n.disabled&&(0,u.iv)(jo||(jo=(0,p.Z)(["\n\topacity: 0.5;\n\tpointer-events: none;\n  "])))})),Yo=(0,o.createContext)();function Xo(n){var t,e,r,i,s,c,p=Ln().direction,u=(r=n.note.id,i=No(),s=i.setActive,c=i.clearActive,(0,o.useCallback)((function(n){n?s({type:Do,data:{noteId:r}}):c()}),[r])),m=(t=n.note.id,e=No().isThreadActive,(0,o.useMemo)((function(){return e(t)}),[e,t])),d=(0,o.useState)(!1),f=(0,l.Z)(d,2),v=f[0],g=f[1],h=$o(m);return a().createElement(un,{open:m,onOpenChange:u},a().createElement(un.Trigger,{asChild:!0},a().createElement(Z,{variant:"transparent",className:Uo},a().createElement(A,{ref:h,className:Uo,variant:m||n.note.isUnreadThread()?"solid":"ghost",size:"md",muted:n.note.isResolved},n.note.id))),a().createElement(un.Content,{align:"rtl"===p?"end":"start",alignOffset:20,sideOffset:10},a().createElement(Bo,{disabled:v},a().createElement(Yo.Provider,{value:{isDisabled:v,setIsDisabled:g}},a().createElement(qo,{threadId:n.note.id})))))}Xo.propTypes={note:Ho.instanceOf(ot).isRequired};var Go,Wo=e(8194).__;function Jo(){var n=No(),t=n.activeThread,e=n.clearActive,r=n.setActive,i=At(),s=(0,o.useState)(!0),c=(0,l.Z)(s,2),p=c[0],u=c[1],m=function(){var n=(0,Kn.Z)(Bn().mark((function n(e){var o,a;return Bn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),o=e.target.closest("form").content.value,n.next=4,i.mutateAsync({elementId:t.data.elementId,parentId:0,content:o});case 4:a=n.sent,r({type:Do,data:{noteId:a.id}});case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return a().createElement(Pr,{onSubmit:m},a().createElement(Rr,{disabled:i.isLoading,name:"content",onMetaAndEnterKeyDown:m,onChange:function(n){return u(0===n.target.value.length)}}),a().createElement(Pr.ButtonsContainer,null,a().createElement(Z,{disabled:i.isLoading||p,type:"submit"},Wo("Leave a note","elementor-pro")),a().createElement(Z,{disabled:i.isLoading,variant:"outlined",type:"reset",onClick:e},Wo("Cancel","elementor-pro"))))}var na=(0,u.ZP)(de)(Go||(Go=(0,p.Z)(["\n\tdisplay: flex !important;\n\tflex-direction: column !important;\n\tgap: 28px !important;\n\tpadding: 20px 16px !important;\n\twidth: 360px !important;\n\tborder-radius: 4px !important;\n"])));function ta(){var n=Ln().direction,t=No(),e=t.activeThread,r=t.clearActive,i=(0,o.useMemo)((function(){return Mo===e.type}),[e]),l=$o(i);return a().createElement(un,{open:i,onOpenChange:function(n){n||r()}},a().createElement(un.Trigger,{asChild:!0},a().createElement(Z,{variant:"transparent",ref:l},a().createElement(A,{variant:"active",size:"md"}))),a().createElement(un.Content,{align:"rtl"===n?"end":"start",alignOffset:20,sideOffset:10},a().createElement(na,null,a().createElement(Jo,null))))}var ea,ra=e(4292),oa=e(216),aa=(0,u.ZP)(ra.h_)(ea||(ea=(0,p.Z)(["\n\tall: revert;\n\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\tposition: absolute;\n\tinset-block-start: -20px;\n\tinset-inline-end: -5px;\n"])));function ia(n){var t=(0,o.useMemo)((function(){return{current:Ct([n.elementId])[0]||null}}),[n.elementId]);return t.current?a().createElement(aa,{containerRef:t,"data-e-notes-portal":!0},n.children):null}function la(){return[(0,So.v9)((function(n){return n.notes.filters})),(0,o.useCallback)((function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return window.top.$e.run("notes/filter",{filters:n,overwrite:t})}),[])]}ia.propTypes={elementId:oa.string.isRequired,children:oa.oneOfType([oa.node,oa.arrayOf(oa.node)])};var sa={enabled:!0,params:{}};function ca(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ln(),e=t.route,r=t.document,a=la(),i=(0,l.Z)(a,1),s=i[0],c=(0,o.useMemo)((function(){return(0,q.Z)((0,q.Z)({},sa),n)}),[n]),p=(0,o.useMemo)((function(){var n=r.is_elementor_library?{post_id:r.id}:{route_url:encodeURIComponent(e.url)};return Pt((0,q.Z)((0,q.Z)((0,q.Z)({parent_id:0,order_by:"last_activity_at",order:"desc"},n),s),c.params||{}))}),[r,e,s,c.params]);return(0,_t.useQuery)(["notes",p],function(){var n=(0,Kn.Z)(Bn().mark((function n(t){var e,r,o,a,i;return Bn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,l.Z)(t.queryKey,2),r=e[1],o=t.signal,n.next=3,window.top.$e.data.get("notes/index",r,{refresh:!0,signal:o});case 3:return a=n.sent,i=a.data,n.abrupt("return",i.data.map((function(n){return ot.createFromResponse(n)})));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),{keepPreviousData:!0,enabled:c.enabled})}function pa(){var n,t,e,r,s=ca().data,p=No().activeThread,u=(n=s,t=p,(0,o.useMemo)((function(){if(!n)return{};var e=n.reduce((function(n,t){return n[t.elementId]||(n[t.elementId]=[]),n[t.elementId].push({type:Do,data:t}),n}),{});if(t&&Mo===t.type){var r=t.data.elementId;e[r]=[].concat((0,i.Z)(e[r]||[]),[{type:Mo,data:{}}])}return e}),[n,t]));return e=On("create"),r=No().setActive,(0,o.useEffect)((function(){if(e){var n=Ct(),t=function(n){n.target.classList.contains(Uo)||(n.preventDefault(),n.stopPropagation(),r({type:Mo,data:{elementId:n.currentTarget.dataset.id}}))};return n.forEach((function(n){n.addEventListener("click",t)})),function(){n.forEach((function(n){n.removeEventListener("click",t)}))}}}),[]),a().createElement(a().Fragment,null,c()(u).map((function(n){var t=(0,l.Z)(n,2),e=t[0],r=t[1];return a().createElement(ia,{key:e,elementId:e},r.map((function(n){var t=n.type,e=n.data;switch(t){case Do:return a().createElement(Xo,{key:e.id,note:e});case Mo:return a().createElement(ta,{key:-1});default:return null}})))})))}var ua,ma,da,fa,va,ga,ha,ya=e(8194).__,ba=e(216),Za=(0,u.ZP)(m)(ua||(ua=(0,p.Z)(["\n\t--spacing: 12px;\n\t--background: #fafbfb;\n\t--color: #6d7882;\n\t--padding: var( --spacing );\n\t--font-family: Roboto, sans-serif;\n\t--font-size: 12px;\n\t--font-weight: 500;\n\t--width: 100%;\n\t--display: flex;\n\n\tgap: var( --spacing );\n\tmargin: 1px 0 0 0 !important;\n\tborder: none;\n\ttext-align: inherit;\n\tborder-radius: 0;\n\ttransition: 0.2s all;\n\tline-height: 1.5;\n\tcursor: pointer;\n\twhite-space: normal;\n\n\t&:hover,\n\t&:focus {\n\t\t--background: #f1f1f1;\n\t\t--color: #6d7882;\n\t}\n\n\t","\n"])),(function(n){return n.isActive&&(0,u.iv)(ma||(ma=(0,p.Z)(["\n\t\t\t--background: #e8f4fb;\n\n\t\t\t&:hover,\n\t\t\t&:focus {\n\t\t\t\t--background: #e0f2fc;\n\t\t\t}\n\t\t"])))})),xa=(0,u.ZP)(de)(da||(da=(0,p.Z)(["\n\tflex-shrink: 0;\n\n\t&::before,\n\t&::after {\n\t\tdisplay: none !important;\n\t}\n"]))),wa=(0,u.ZP)(de)(fa||(fa=(0,p.Z)(["\n\tflex-grow: 1;\n\n\t&::before,\n\t&::after {\n\t\tdisplay: none !important;\n\t}\n"]))),Ea=u.ZP.p(va||(va=(0,p.Z)(["\n\tall: revert;\n\n\tmargin: 0 0 5px 0 !important;\n\tfont-family: Roboto, sans-serif !important;\n\tfont-size: 10px !important;\n\tfont-weight: 500 !important;\n\ttext-transform: none !important;\n\tfont-style: normal !important;\n\ttext-decoration: none !important;\n\tline-height: normal !important;\n\tletter-spacing: normal !important;\n\tword-spacing: normal !important;\n"]))),ka=u.ZP.span(ga||(ga=(0,p.Z)(["\n\tcolor: #a4afb6;\n"]))),Ca=u.ZP.p(ha||(ha=(0,p.Z)(["\n\tall: revert;\n\n\tmargin: 5px 0 0 0 !important;\n\tcolor: #a4afb6 !important;\n\tfont-family: Roboto, sans-serif !important;\n\tfont-size: 10px !important;\n\tfont-weight: normal !important;\n\ttext-transform: none !important;\n\tfont-style: normal !important;\n\ttext-decoration: none !important;\n\tline-height: normal !important;\n\tletter-spacing: normal !important;\n\tword-spacing: normal !important;\n"])));function Ra(n){var t=$o(n.isActive,{block:"nearest",inline:"nearest"});return a().createElement(Za,{isActive:n.isActive,onClick:n.onClick,ref:t},a().createElement(xa,null,a().createElement(A,{elevation:0,variant:n.isActive||n.note.isUnreadThread()?"solid":"ghost",size:"sm",muted:n.note.isResolved},n.note.id)),a().createElement(wa,null,a().createElement(Ea,null,n.note.author.name," ",a().createElement(ka,null,n.note.getFormattedLastActivityAt())),a().createElement(Jr,{disableInteractions:!0},n.note.content),n.note.repliesCount>0&&a().createElement(Ca,null,ya("%s replies","elementor-pro").replace("%s",n.note.repliesCount))))}Ra.propTypes={note:ba.instanceOf(ot).isRequired,onClick:ba.func,isActive:ba.bool};var Ta,Pa,_a=e(216),za=u.ZP.h4(Ta||(Ta=(0,p.Z)(["\n  all: revert;\n\n  padding: 10px 12px !important;\n  background: #fff !important;\n  font-family: Roboto, sans-serif !important;\n  font-size: 12px !important;\n  font-weight: 600 !important;\n  color: #6d7882 !important;\n  margin: 1px 0 0 0 !important;\n  line-height: 1.2 !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n  position: relative !important;\n\n  &::before, &::after {\n    display: none !important;\n  }\n"]))),Aa=u.ZP.span(Pa||(Pa=(0,p.Z)(["\n  color: #a4afb6;\n  font-size: 11px;\n"])));function Ia(n){return a().createElement(za,null,n.children," ",n.count&&a().createElement(Aa,null,"(",n.count,")"))}Ia.propTypes={children:_a.oneOfType([_a.node,_a.arrayOf(_a.node)]),count:_a.number};var Fa=e(216);function La(n){var t=Ln().route,e=No(),r=e.isThreadActive,o=e.setActive;return a().createElement(a().Fragment,null,a().createElement(Ia,{count:n.notes.length},t.title),n.notes.map((function(n){return a().createElement(Ra,{key:n.id,note:n,isActive:r(n.id),onClick:function(){return o({type:Do,data:{noteId:n.id}})}})})))}La.propTypes={notes:Fa.arrayOf(Fa.instanceOf(ot)).isRequired};var Oa,qa=function(n){(0,Wn.Z)(e,n);var t=(0,Jn.Z)(e);function e(){var n;(0,Yn.Z)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),(0,nt.Z)((0,Gn.Z)(n),"url",""),(0,nt.Z)((0,Gn.Z)(n),"fullURL",""),(0,nt.Z)((0,Gn.Z)(n),"title",""),(0,nt.Z)((0,Gn.Z)(n),"notesCount",0),n}return(0,Xn.Z)(e,null,[{key:"createFromResponse",value:function(n){return(new e).init({url:n.url,fullURL:n.full_url,title:n.title,notesCount:n.notes_count})}}]),e}(tt),Sa=e(8194).__,Da=e(216),Ma=u.ZP.a(Oa||(Oa=(0,p.Z)(["\n\tposition: absolute !important;\n\tfont-size: 14px !important;\n\tinset-inline-end: 14px !important;\n\ttop: 50% !important;\n\tmargin-top: -.5em !important;\n\tcolor: #a4afb7 !important;\n"])));function Na(n){return n.notesSummary.map((function(n){return a().createElement(Ia,{count:n.notesCount,key:n.url},n.title,a().createElement($n,null,a().createElement($n.Trigger,{asChild:!0},a().createElement(Ma,{href:"".concat(n.fullURL,"#e:run:notes/open"),target:"_blank"},a().createElement(M,{className:"eicon-editor-external-link"}))),a().createElement($n.Content,null,Sa("Open in a new tab","elementor-pro"),a().createElement($n.Arrow,null))))}))}Na.propTypes={notesSummary:Da.arrayOf(Da.instanceOf(qa)).isRequired};var Ua=e(8194).__;function Va(){return a().createElement($n,null,a().createElement($n.Trigger,{asChild:!0},a().createElement(H,{name:"eicon-editor-close",onClick:function(){return window.top.$e.run("notes/close")}})),a().createElement($n.Content,null,Ua("Close notes mode","elementor-pro"),a().createElement($n.Arrow,null)))}var $a,Ka,Qa,ja,Ha=e(8194).__,Ba=(0,u.ZP)(de)($a||($a=(0,p.Z)(["\n\tdisplay: flex !important;\n\talign-items: center !important;\n\tjustify-content: center !important;\n\theight: 100% !important;\n\twidth: 100% !important;\n\ttext-align: center !important;\n\tpadding: 13px 13px 43px 13px !important;\n"]))),Ya=(0,u.ZP)(de)(Ka||(Ka=(0,p.Z)(["\n\tfont-size: 30px !important;\n\tcolor: #a4afb6 !important;\n\tmargin: 0 0 15px 0 !important;\n"]))),Xa=u.ZP.h4(Qa||(Qa=(0,p.Z)(["\n\tall: revert;\n\n\tfont-family: Roboto, sans-serif !important;\n\tfont-size: 16px !important;\n\tfont-weight: 700 !important;\n\ttext-transform: none !important;\n\tfont-style: normal !important;\n\ttext-decoration: none !important;\n\tline-height: normal !important;\n\tletter-spacing: normal !important;\n\tword-spacing: normal !important;\n\tcolor: #6d7882 !important;\n\tmargin: 0 0 10px 0 !important;\n\n\t&::before, &::after {\n\t\tdisplay: none;\n\t}\n"]))),Ga=u.ZP.p(ja||(ja=(0,p.Z)(["\n\tall: revert;\n\n\tfont-family: Roboto, sans-serif !important;\n\tfont-size: 12px !important;\n\tfont-weight: normal !important;\n\ttext-transform: none !important;\n\tfont-style: normal !important;\n\ttext-decoration: none !important;\n\tline-height: normal !important;\n\tletter-spacing: normal !important;\n\tword-spacing: normal !important;\n\tmargin: 0 !important;\n\tcolor: #6d7882 !important;\n"])));function Wa(){return a().createElement(Ba,null,a().createElement("div",null,a().createElement(Ya,null,a().createElement(M,{className:"eicon-commenting-o"})),a().createElement(Xa,null,Ha("Share your thoughts with a Note","elementor-pro")),a().createElement(Ga,null,Ha("Select an element on the page to leave a comment, ask a question, etc.","elementor-pro"))))}var Ja,ni,ti=e(8194).__,ei=(0,u.ZP)(de)(Ja||(Ja=(0,p.Z)(["\n  display: flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n  height: 100% !important;\n  width: 100% !important;\n  text-align: center !important;\n  padding: 13px 13px 43px 13px !important;\n"]))),ri=u.ZP.p(ni||(ni=(0,p.Z)(["\n  all: revert;\n\n  font-family: Roboto, sans-serif !important;\n  font-size: 12px !important;\n  font-weight: "," !important;\n  text-transform: none !important;\n  font-style: normal !important;\n  text-decoration: none !important;\n  line-height: normal !important;\n  letter-spacing: normal !important;\n  word-spacing: normal !important;\n  margin: 0 !important;\n  color: #6d7882 !important;\n"])),(function(n){return n.weight||400}));function oi(){return a().createElement(ei,null,a().createElement("div",null,a().createElement(ri,{weight:700},ti("Something went wrong.","elementor-pro")),a().createElement(ri,null,ti("Please refresh the page and try again.","elementor-pro"))))}var ai,ii,li=e(5862),si=(0,u.ZP)(m).attrs((function(){return{as:li.fC}}))(ai||(ai=(0,p.Z)(['\n  --border-color: #a4afb6;\n  --background: #fff;\n  --border: 1px solid var( --border-color );\n  --border-radius: 3px;\n  --width: 13px;\n  --height: 13px;\n  --display: inline-flex;\n\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  margin: 0;\n  outline: none;\n  transition: 0.2s all;\n  overflow: hidden;\n\n  &[data-state="checked"] {\n    --border-color: #39b54a;\n  }\n\n  &:hover, &:focus {\n\toutline: none;\n\t--background: #eee;\n\n\t& > * {\n\t  --background: rgba(57, 181, 74, 0.8);\n\t}\n  }\n']))),ci=(0,u.ZP)(li.z$)(ii||(ii=(0,p.Z)(["\n  all: revert;\n\n  position: absolute !important;\n  inset: 0 !important;\n  display: inline-flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n  background: #39b54a !important;\n  color: #fff !important;\n  outline: none !important;\n  font-size: 8px !important;\n"])));function pi(n){return a().createElement(si,n,a().createElement(ci,null,a().createElement(M,{className:"eicon-check"})))}pi.propTypes=(0,q.Z)({},li.fC.propTypes);var ui,mi=e(4053);const di=(0,u.ZP)(mi.__)(ui||(ui=(0,p.Z)(["\n  all: revert;\n\n  font-size: 12px !important;\n  color: #a4afb6 !important;\n  font-weight: 500 !important;\n  font-family: Roboto, sans-serif !important;\n  user-select: none !important;\n  display: inline-flex !important;\n  align-items: center !important;\n  gap: 8px !important;\n  line-height: 2 !important;\n"])));var fi,vi,gi=e(2736),hi=(0,u.ZP)(m).attrs((function(){return{as:gi.ck}}))(fi||(fi=(0,p.Z)(['\n  --border-color: #a4afb6;\n  --background: #fff;\n  --border: 1px solid var( --border-color );\n  --border-radius: 100%;\n  --width: 13px;\n  --height: 13px;\n  --display: inline-flex;\n\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  margin: 0;\n  outline: none;\n  transition: 0.2s all;\n  overflow: hidden;\n\n  &[data-state="checked"] {\n    --border-color: #39b54a;\n  }\n\n  &:hover, &:focus {\n\toutline: none;\n\t--background: #eee;\n\n\t& > * {\n\t  --background: rgba(57, 181, 74, 0.8);\n\t}\n  }\n']))),yi=(0,u.ZP)(gi.z$)(vi||(vi=(0,p.Z)(["\n  all: revert;\n\n  position: absolute !important;\n  top: 0 !important;\n  right: 0 !important;\n  display: inline-flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n  background: #39b54a !important;\n  color: #fff !important;\n  outline: none !important;\n  font-size: 8px !important;\n  margin: 2px !important;\n  border-radius: 100% !important;\n  width: 7px !important;\n  height: 7px !important;\n"])));function bi(n){return a().createElement(hi,n,a().createElement(yi,null))}bi.propTypes=(0,q.Z)({},gi.ck.propTypes),bi.Group=gi.Ee;var Zi,xi=e(7869),wi=(0,u.ZP)(xi.f)(Zi||(Zi=(0,p.Z)(["\n  background: #f1f3f5;\n\n  &[data-orientation=horizontal] {\n\theight: 1px;\n\twidth: 100%;\n\tmargin: 10px 0;\n  }\n\n  &[data-orientation=vertical] {\n\theight: 100%;\n\twidth: 1px;\n\tmargin: 0 10px;\n  }\n"])));function Ei(){return a().createElement(wi,null)}Ei.propTypes=(0,q.Z)({},xi.f.propTypes);var ki={enabled:!0,params:{}};var Ci="notes",Ri="notes-summary";function Ti(){var n=(0,o.useState)(Ci),t=(0,l.Z)(n,2),e=t[0],r=t[1],a=(0,o.useMemo)((function(){return Ci===e}),[e]),i=(0,o.useMemo)((function(){return Ri===e}),[e]),s=ca({enabled:a}),c=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=la(),e=(0,l.Z)(t,1)[0],r=(0,o.useMemo)((function(){return(0,q.Z)((0,q.Z)({},ki),n)}),[n]),a=(0,o.useMemo)((function(){return Pt((0,q.Z)((0,q.Z)({},e),r.params||{}))}),[r.params,e]);return(0,_t.useQuery)(["notes/summary",a],function(){var n=(0,Kn.Z)(Bn().mark((function n(t){var e,r,o,a,i;return Bn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,l.Z)(t.queryKey,2),r=e[1],o=t.signal,n.next=3,window.top.$e.data.get("notes/summary",(0,q.Z)({parent_id:0},r),{refresh:!0,signal:o});case 3:return a=n.sent,i=a.data,n.abrupt("return",i.data.map((function(n){return qa.createFromResponse(n)})));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),{keepPreviousData:!0,enabled:r.enabled})}({enabled:i});return(0,o.useMemo)((function(){return(0,q.Z)((0,q.Z)({},Ci===e?s:c),{},{setView:r,view:e,isNotesView:a,isNotesSummaryView:i})}),[s,c])}var Pi,_i=e(8194).__,zi=e(216),Ai=(0,u.ZP)(un.Content)(Pi||(Pi=(0,p.Z)(["\n  padding: 16px 16px 10px !important;\n"])));function Ii(n){var t=la(),e=(0,l.Z)(t,2),r=e[0],o=e[1],i=Ln().direction;return a().createElement(un,null,a().createElement(un.Trigger,{asChild:!0},a().createElement(H,{name:"eicon-ellipsis-h",size:"sm"})),a().createElement(Ai,{align:"rtl"===i?"end":"start",sideOffset:5},a().createElement(bi.Group,{value:n.view,onValueChange:n.setView,dir:i},a().createElement("div",null,a().createElement(di,null,a().createElement(bi,{value:Ci}),_i("Current page","elementor-pro"))),a().createElement("div",null,a().createElement(di,null,a().createElement(bi,{value:Ri}),_i("All site","elementor-pro")))),a().createElement(Ei,null),a().createElement(bi.Group,{value:r.only_relevant?"1":"0",onValueChange:function(n){return o({only_relevant:"1"===n||null})},dir:i},a().createElement("div",null,a().createElement(di,null,a().createElement(bi,{value:"0"}),_i("All notes","elementor-pro"))),a().createElement("div",null,a().createElement(di,null,a().createElement(bi,{value:"1"}),_i("Only yours","elementor-pro")))),a().createElement(Ei,null),a().createElement("div",null,a().createElement(di,{htmlFor:"notes-filter-show-resolved"},a().createElement(pi,{id:"notes-filter-show-resolved",checked:null===r.is_resolved,onCheckedChange:function(n){return o({is_resolved:!!n&&null})}}),_i("Show resolved","elementor-pro"))),a().createElement("div",null,a().createElement(di,{htmlFor:"notes-filter-only-unread"},a().createElement(pi,{id:"notes-filter-only-unread",checked:r.only_unread,onCheckedChange:function(n){return o({only_unread:!!n||null})}}),_i("Show unread only","elementor-pro"))),a().createElement(un.Arrow,null),a().createElement(un.CloseButton,null)))}Ii.propTypes={view:zi.string.isRequired,setView:zi.func.isRequired};var Fi,Li,Oi,qi=e(216),Si=(0,u.ZP)(de)(Fi||(Fi=(0,p.Z)(["\n  display: grid !important;\n  grid-template-columns: 1fr 2fr 1fr !important;\n  grid-column-gap: 10px !important;\n  align-items: center !important;\n  background: #ffffff !important;\n  padding: 8px !important;\n  flex-shrink: 0 !important;\n\n  ","\n"])),(function(n){return n.isFloating&&(0,u.iv)(Li||(Li=(0,p.Z)(["\n  \tcursor: move;\n  "])))}));function Di(n){var t=function(){var n=(0,o.useContext)(ll);if(!n)throw new Error("`usePanelContext` must be used inside Panel's components.");return n}().floating,e=t.active,r=t.handleClassName;return a().createElement(Si,{className:r,isFloating:e},n.children)}Di.propTypes={children:qi.oneOfType([qi.node,qi.arrayOf(qi.node)])};const Mi=u.ZP.h3(Oi||(Oi=(0,p.Z)(["\n\tall: revert;\n\n\tfont-family: Roboto, sans-serif !important;\n\tfont-size: 13px !important;\n\tfont-weight: 500 !important;\n\ttext-transform: none !important;\n\tfont-style: normal !important;\n\ttext-decoration: none !important;\n\tline-height: 24px !important;\n\tletter-spacing: normal !important;\n\tword-spacing: normal !important;\n  \tcolor: #6d7882 !important;\n  \ttext-align: center !important;\n  \tflex-grow: 1 !important;\n  \tmargin: 0 !important;\n\n\t&::before, &::after {\n\t\tdisplay: none !important;\n\t}\n"])));var Ni;const Ui=(0,u.ZP)(de)(Ni||(Ni=(0,p.Z)(["\n  overflow-y: auto;\n  flex-grow: 1;\n  position: relative;\n"])));var Vi,$i=e(216),Ki=(0,u.ZP)(de)(Vi||(Vi=(0,p.Z)(["\n  display: grid !important;\n  place-items: center !important;\n  background: #fff !important;\n  color: #a4afb7 !important;\n  font-size: 18px !important;\n"])));function Qi(){return a().createElement(Ki,null,a().createElement(M,{className:"eicon-ellipsis-h"}))}Qi.propTypes={children:$i.oneOfType([$i.node,$i.arrayOf($i.node)])};var ji,Hi,Bi=e(216),Yi=(0,u.ZP)(de)(ji||(ji=(0,p.Z)(["\n  position: absolute !important;\n  inset: 0 !important;\n  background: #e6e9ec !important;\n  transition: 0.3s all !important;\n  font-size: 30px !important;\n  display: grid !important;\n  place-items: center !important;\n  color: #a4afb6 !important;\n\n  ","\n"])),(function(n){return!n.show&&(0,u.iv)(Hi||(Hi=(0,p.Z)(["\n\topacity: 0 !important;\n\tpointer-events: none !important;\n  "])))}));function Xi(n){return a().createElement(Yi,n,a().createElement(M,{className:"eicon-loading eicon-animation-spin"}))}Xi.propTypes={show:Bi.bool};var Gi,Wi=e(216),Ji=(0,u.ZP)(de)(Gi||(Gi=(0,p.Z)(["\n  display: flex !important;\n  justify-self: "," !important;\n"])),(function(n){return n.align}));Ji.propTypes={children:Wi.oneOfType([Wi.node,Wi.arrayOf(Wi.node)]),align:Wi.oneOf(["start","end"]).isRequired};const nl=Ji;var tl,el,rl=e(9294),ol=e.n(rl),al=e(216),il=(0,u.ZP)(de)(tl||(tl=(0,p.Z)(["\n  display: flex !important;\n  flex-direction: column !important;\n  background: #e6e9ec !important;\n  width: 240px !important;\n  height: 440px !important;\n  overflow: hidden !important;\n  border-radius: 3px !important;\n  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1) !important;\n\n  ","\n\n  *:focus {\n    outline: none;\n  }\n"])),(function(n){return n.isFloating&&(0,u.iv)(el||(el=(0,p.Z)(["\n\tposition: fixed !important;\n\ttop: 0 !important;\n\tinset-inline-start: 0 !important;\n\tz-index: "," !important;\n  "])),kt)})),ll=(0,o.createContext)({});function sl(n){var t=(0,o.useRef)(),e=(0,o.useMemo)((function(){return{floating:{active:!!n.isFloating,handleClassName:"floating-handle"}}}),[n.isFloating]);return a().createElement(ll.Provider,{value:e},n.isFloating?a().createElement(ol(),{handle:".".concat(e.floating.handleClassName),defaultPosition:n.defaultPosition,nodeRef:t},a().createElement(il,(0,S.Z)({},n,{ref:t}))):a().createElement(il,n))}sl.propTypes={children:al.oneOfType([al.node,al.arrayOf(al.node)]),defaultPosition:al.shape({x:al.number,y:al.number}),isFloating:al.bool},sl.Header=Di,sl.HeaderTitle=Mi,sl.HeaderSideCol=nl,sl.Body=Ui,sl.FooterResize=Qi,sl.Loading=Xi;var cl,pl=e(8194).__,ul=e(216),ml=(0,u.ZP)(H)(cl||(cl=(0,p.Z)(['\n  animation-duration: 1.3s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n\n  &[data-state="loading"] {\n\tanimation-name: ',';\n  }\n\n  &[data-state="none"] {\n\tanimation-name: none;\n  }\n'])),sn);function dl(n){var t=(0,o.useState)(n.isFetching),e=(0,l.Z)(t,2),r=e[0],i=e[1];return Mt((function(){n.isFetching&&i(!0)}),[n.isFetching]),a().createElement($n,null,a().createElement($n.Trigger,{asChild:!0},a().createElement(ml,{name:"eicon-sync","data-state":r?"loading":"none",onClick:function(){return n.refetch()},onAnimationIteration:function(){n.isFetching||i(!1)}})),a().createElement($n.Content,null,pl("Refresh","elementor-pro"),a().createElement($n.Arrow,null)))}dl.propTypes={isFetching:ul.bool.isRequired,refetch:ul.func.isRequired};var fl=e(8194).__;function vl(){var n=Ln().direction,t=Ti(),e=t.view,r=t.setView,o=t.data,i=t.refetch,l=t.isSuccess,s=t.isLoading,c=t.isFetching,p=t.isError,u=t.isNotesView,m=t.isNotesSummaryView;return a().createElement(sl,{isFloating:!0,defaultPosition:{x:"rtl"===n?-50:50,y:50}},a().createElement(sl.Header,null,a().createElement(sl.HeaderSideCol,{align:"start"},a().createElement(Ii,{view:e,setView:r})),a().createElement(sl.HeaderTitle,null,fl("Notes Panel","elementor-pro")),a().createElement(sl.HeaderSideCol,{align:"end"},a().createElement(dl,{isFetching:c,refetch:i}),a().createElement(Va,null))),a().createElement(sl.Body,null,a().createElement(sl.Loading,{show:s}),p&&a().createElement(oi,null),l&&0===o.length&&a().createElement(Wa,null),u&&l&&o.length>0&&a().createElement(La,{notes:o}),m&&l&&o.length>0&&a().createElement(Na,{notesSummary:o})),a().createElement(sl.FooterResize,null))}var gl=e(4166),hl=window.top.$e.store.getReduxStore();function yl(){var n=Ln().is_debug,t=n?a().StrictMode:a().Fragment;return a().createElement(t,null,a().createElement(So.zt,{store:hl},a().createElement(_t.QueryClientProvider,{client:br},a().createElement(pa,null),a().createElement(vl,null),n&&a().createElement(gl.ReactQueryDevtools,{initialIsOpen:!1}))))}}}]);